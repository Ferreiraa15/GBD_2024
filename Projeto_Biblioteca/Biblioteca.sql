-- MySQL Script generated by MySQL Workbench
-- ter 29 out 2024 15:50:58
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`Aluno`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Aluno` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Aluno` (
  `RA` VARCHAR(45) NOT NULL,
  `Nome` VARCHAR(45) NULL,
  `Email` VARCHAR(45) NULL,
  `telefone` VARCHAR(45) NULL,
  PRIMARY KEY (`RA`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Colaborador`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Colaborador` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Colaborador` (
  `CPF` VARCHAR(11) NOT NULL,
  `Nome` VARCHAR(45) NULL,
  `Email` VARCHAR(45) NULL,
  `cargo` VARCHAR(45) NULL,
  PRIMARY KEY (`CPF`));


-- -----------------------------------------------------
-- Table `mydb`.`Emprestimo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Emprestimo` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Emprestimo` (
  `idEmprestimo` INT NOT NULL,
  `dataEmprestimo` DATE NULL,
  `dataDevolucao` VARCHAR(45) NULL,
  `livroIsbn` VARCHAR(13) NULL,
  `colaboradorCpf` VARCHAR(11) NULL,
  `Livro_isbn` VARCHAR(13) NOT NULL,
  `Colaborador_CPF` VARCHAR(11) NOT NULL,
  `Aluno_RA` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idEmprestimo`),
  INDEX `fk_Emprestimo_Livro_idx` (`Livro_isbn` ASC) VISIBLE,
  INDEX `fk_Emprestimo_Colaborador1_idx` (`Colaborador_CPF` ASC) VISIBLE,
  INDEX `fk_Emprestimo_Aluno1_idx` (`Aluno_RA` ASC) VISIBLE,
  CONSTRAINT `fk_Emprestimo_Livro`
    FOREIGN KEY (`Livro_isbn`)
    REFERENCES `mydb`.`Livro` (`isbn`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Emprestimo_Colaborador1`
    FOREIGN KEY (`Colaborador_CPF`)
    REFERENCES `mydb`.`Colaborador` (`CPF`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Emprestimo_Aluno1`
    FOREIGN KEY (`Aluno_RA`)
    REFERENCES `mydb`.`Aluno` (`RA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


-- -----------------------------------------------------
-- Table `mydb`.`Livro`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `mydb`.`Livro` ;

CREATE TABLE IF NOT EXISTS `mydb`.`Livro` (
  `isbn` VARCHAR(13) NOT NULL,
  `nome` VARCHAR(45) NULL,
  `autor` VARCHAR(45) NULL,
  `paginas` INT NULL,
  PRIMARY KEY (`isbn`));


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;


INSERT INTO `mydb`.`Aluno` (RA, Nome, Email, telefone) VALUES
('RA001', 'Ana Silva', 'ana.silva@example.com', '11987654321'),
('RA002', 'Bruno Costa', 'bruno.costa@example.com', '11912345678'),
('RA003', 'Carlos Oliveira', 'carlos.oliveira@example.com', '11923456789'),
('RA004', 'Daniela Pereira', 'daniela.pereira@example.com', '11934567890'),
('RA005', 'Eduardo Santos', 'eduardo.santos@example.com', '11945678901');

INSERT INTO `mydb`.`Colaborador` (CPF, Nome, Email, cargo) VALUES
('12345678901', 'Fernanda Lima', 'fernanda.lima@example.com', 'Bibliotecária'),
('10987654321', 'Gustavo Rocha', 'gustavo.rocha@example.com', 'Assistente'),
('10203040506', 'Helena Martins', 'helena.martins@example.com', 'Coordenador'),
('11223344556', 'Igor Ferreira', 'igor.ferreira@example.com', 'Auxiliar'),
('22334455667', 'Juliana Almeida', 'juliana.almeida@example.com', 'Estagiária');

INSERT INTO `mydb`.`Livro` (isbn, nome, autor, paginas) VALUES
('9781234567890', 'Aprendendo SQL', 'Maria Souza', 250),
('9780987654321', 'Programação em Python', 'José Silva', 300),
('9781122334455', 'Desenvolvimento Web', 'Carlos Martins', 450),
('9782233445566', 'Algoritmos e Estruturas de Dados', 'Ana Lima', 500),
('9783344556677', 'Inteligência Artificial', 'Roberto Santos', 400);

INSERT INTO `mydb`.`Emprestimo` (idEmprestimo, dataEmprestimo, dataDevolucao, Livro_isbn, colaborador_Cpf, Aluno_RA) VALUES
(1, '2024-10-01', '2024-10-15', '9781234567890', '12345678901', 'RA001'),
(2, '2024-10-05', '2024-10-20', '9780987654321', '10987654321', 'RA002'),
(3, '2024-10-10', '2024-10-25', '9781122334455', '10203040506', 'RA003'),
(4, '2024-10-12', '2024-10-27', '9782233445566', '11223344556', 'RA004'),
(5, '2024-10-15', '2024-10-30', '9783344556677', '22334455667', 'RA005'),
(6, '2024-10-01', '2024-10-15', '9781122334455', '22334455667', 'RA001');

Select * from `mydb`.`Emprestimo`;